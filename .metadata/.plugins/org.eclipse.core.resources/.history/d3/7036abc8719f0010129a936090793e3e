package com.jsp.studcrud;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.Scanner;

public class InsertStudentCrud {

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		String url = "jdbc:postgresql://localhost:5432/studentcrud?user=postgres&password=root";
		try {
			Connection con = DriverManager.getConnection(url);

			System.out.println("connection : " + con);

			String query = "INSERT INTO student VALUES(?,?,?,?,?)";

			PreparedStatement st = con.prepareStatement(query);

			Scanner sc = new Scanner(System.in);

			System.out.println("How many data you want to enter");
			int count = sc.nextInt();

			for (int i = 0; i < count; i++) {
				System.out.println("enter id");
				int id = sc.nextInt();
				sc.nextLine();
				System.out.println("enter name");
				String name = sc.nextLine();
				System.out.println("enter age");
				int age = sc.nextInt();
				sc.next();
				System.out.println("enter schoolname");
				String sch = sc.nextLine();
				
				System.out.println("enter address");
				String add = sc.nextLine();

				st.setInt(1, id);
				st.setString(2, name);
				st.setInt(3, age);
				st.setString(4, sch);
				st.setString(5, add);

				st.execute();

				System.out.println(i + "  Data inserted");

			}

		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

	}

}
